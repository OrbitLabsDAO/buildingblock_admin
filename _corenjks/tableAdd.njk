---
layout: layout.njk
---
{% set theJs %}
    {% include 'js/tableAdd.js' %}
{% endset %}

<!-- Page Heading -->
<div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800" id="data-header"></h1>
    <a href="javascript:history.back()" class="d-sm-inline-block btn btn-sm btn-primary shadow-sm">
        <i class="fas fa-backward fa-sm text-white-50" id="btn-back-cy"></i> Back
    </a>
</div>

<p class="mb-4"></p>

<div id="formInputs">
    <form action="/add_{{ tableName }}" method="post">
        {% set imagePreview = false %}
        {% set disabled = false %}
        {% set disableButton = "" %}
        {% set defaultInteger = 0 %}
        {% set showQuill = true %} 
        {% for field in fields %}
            {% set firstThree = field.name[0] ~ field.name[1] ~ field.name[2] %}
            {% if field.name and field.name != "id" and firstThree != "fk_" %}               
                <div class="form-group">
                    <!-- TODO make sure the rendering above sets each field type -->
                    {% set templatePath = "htmlinputs/" + (field.inputType or "default") + ".njk" %}
                    {% include templatePath %}
                </div>
            {% endif %}
        {% endfor %}
    </form>
</div>

<input type="hidden" id="formTableName" name="formTableName" value="">

<button class="btn btn-primary btn-user btn-block" id="btn-create" {{ disableButton }}>
    Create
</button>
<!-- Include the Quill js library -->
<link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet" />
<!-- Include the Quill library -->
<script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>
<!-- Latest compiled and minified CSS -->

<script type="text/javascript">
    {{ theJs | safe }}
</script>
